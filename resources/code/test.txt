#define arm 13
#define cmdX 2
#define cmdY 3
#define cmdS 0
#define addrX at0
#define addrY at1
#define addrCnt at2
#define addrS at3

// initial position
set addrX -10
set addrY 10
send addrX arm cmdX
send addrY arm cmdY
delay 300

#label loop_main
set addrCnt 4
#label loop_right
send addrX arm cmdX
send addrY arm cmdY

// wait for arm to stop
#label wait0
recieve addrS arm cmdS
goto_ifn wait0 addrS

add addrX 4 addrX
subtract addrCnt addrCnt 1
goto_if loop_right addrCnt
// end loop

set addrCnt 4
#label loop_left
send addrX arm cmdX
send addrY arm cmdY

// wait for arm to stop
#label wait1
recieve addrS arm cmdS
goto_ifn wait1 addrS

subtract addrX 4 addrX
subtract addrCnt addrCnt 1
goto_if loop_left addrCnt
goto loop_main
// end loop

